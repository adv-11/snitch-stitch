version: "1.0"

contexts:
  # ============================================================
  # PACKAGE CONFIGURATION
  # ============================================================

  pyproject:
    paths: ["*pyproject*"]
    defaults:
      outputs:
        code:
          path: "pyproject.toml"

  # ============================================================
  # PACKAGE INITIALIZATION
  # ============================================================

  init:
    paths: ["*init*"]
    defaults:
      outputs:
        code:
          path: "src/snitch_stitch/__init__.py"

  # ============================================================
  # CORE MODULES
  # ============================================================

  ingest:
    paths: ["*ingest*"]
    defaults:
      outputs:
        code:
          path: "src/snitch_stitch/ingest.py"

  backend_scanner:
    paths: ["*backend_scanner*"]
    defaults:
      outputs:
        code:
          path: "src/snitch_stitch/backend_scanner.py"

  frontend_scanner:
    paths: ["*frontend_scanner*"]
    defaults:
      outputs:
        code:
          path: "src/snitch_stitch/frontend_scanner.py"

  ranker:
    paths: ["*ranker*"]
    defaults:
      outputs:
        code:
          path: "src/snitch_stitch/ranker.py"

  fixer:
    paths: ["*fixer*"]
    defaults:
      outputs:
        code:
          path: "src/snitch_stitch/fixer.py"

  diff_display:
    paths: ["*diff_display*"]
    defaults:
      outputs:
        code:
          path: "src/snitch_stitch/diff_display.py"

  cli:
    paths: ["*cli*"]
    defaults:
      outputs:
        code:
          path: "src/snitch_stitch/cli.py"

  # ============================================================
  # DEFAULT FALLBACK
  # ============================================================
  # CRITICAL: prompts_dir goes ONLY here, not in other contexts!

  default:
    defaults:
      prompts_dir: "prompts/"
      generate_output_path: "src/"
